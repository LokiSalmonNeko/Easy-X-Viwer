# Easy X Viewer

ä¸€å€‹è¼•é‡ã€å¯è‡ªç”±éƒ¨ç½²çš„ Web æ‡‰ç”¨ï¼Œç”¨æ–¼ç®¡ç† X (Twitter) è²¼æ–‡å½±ç‰‡ã€‚æ”¯æ´è²¼ä¸Šè²¼æ–‡ç¶²å€ã€è‡ªå‹•ç²å–è²¼æ–‡æ¨™é¡Œã€å»ºç«‹æ¨™ç±¤èˆ‡å‚™è¨»ï¼Œä¸¦ä»¥ JSON æª”æ¡ˆå„²å­˜æ‰€æœ‰ç´€éŒ„ã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ“ æ–°å¢ X (Twitter) è²¼æ–‡å½±ç‰‡ç´€éŒ„
- ğŸ·ï¸ è‡ªå‹•å¾è²¼æ–‡ç²å–æ¨™é¡Œ
- ğŸ·ï¸ ç‚ºå½±ç‰‡å»ºç«‹æ¨™ç±¤èˆ‡å‚™è¨»
- ğŸ“‹ æŸ¥çœ‹æ‰€æœ‰ç´€éŒ„åˆ—è¡¨
- ğŸ” ä¾æ¨™é¡Œæˆ–æ¨™ç±¤æœå°‹èˆ‡ç¯©é¸
- âœï¸ ç·¨è¼¯èˆ‡åˆªé™¤ç´€éŒ„
- ğŸ’¾ ä½¿ç”¨ JSON æª”æ¡ˆå„²å­˜ï¼Œç„¡éœ€è³‡æ–™åº«
- ğŸ¬ ä½¿ç”¨ X å®˜æ–¹ embed æ’­æ”¾å™¨æ’­æ”¾å½±ç‰‡ï¼ˆä¸ä¸‹è¼‰å½±ç‰‡ï¼‰
- ğŸ”„ è‡ªå‹•æ¨™æº–åŒ– URLï¼ˆæ”¯æ´ x.com å’Œ twitter.comï¼‰
- ğŸ”“ **å‚™ç”¨è¼‰å…¥åŠŸèƒ½**ï¼šæ•´åˆ [twscrape](https://github.com/vladkens/twscrape)ï¼Œç•¶å®˜æ–¹ embed ç„¡æ³•é¡¯ç¤ºæ™‚ï¼ˆå¦‚å¹´é½¡é™åˆ¶è²¼æ–‡ï¼‰ï¼Œå¯ä½¿ç”¨å‚™ç”¨æ–¹å¼è¼‰å…¥

## æŠ€è¡“æ£§

### å¾Œç«¯
- Node.js + Express
- æœ¬åœ° JSON æª”æ¡ˆå„²å­˜ï¼ˆ`records.json`ï¼‰
- RESTful API
- X oEmbed APIï¼ˆç²å–è²¼æ–‡æ¨™é¡Œï¼‰

### å‰ç«¯
- åŸç”Ÿ HTML / JavaScript
- TailwindCSSï¼ˆä½¿ç”¨ Tailwind CLI å»ºç½®ï¼‰
- X å®˜æ–¹ widgets.js

## å®‰è£æ­¥é©Ÿ

### 1. å®‰è£ä¾è³´

```bash
npm install
```

### 2. å»ºç½® CSSï¼ˆé¦–æ¬¡åŸ·è¡Œæˆ–ä¿®æ”¹æ¨£å¼å¾Œï¼‰

```bash
npm run build:css
```

**æ³¨æ„**ï¼šåŸ·è¡Œ `npm start` æ™‚æœƒè‡ªå‹•åŸ·è¡Œ `build:css`ï¼Œä½†å¦‚æœæ‚¨æƒ³æ‰‹å‹•å»ºç½®ï¼Œå¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤ã€‚

### 3. å•Ÿå‹•ä¼ºæœå™¨

```bash
npm start
```

ä¼ºæœå™¨å°‡é‹è¡Œæ–¼ `http://localhost:3000`

### 3. è¨ªå•æ‡‰ç”¨

é–‹å•Ÿç€è¦½å™¨è¨ªå•ï¼š
- é¦–é ï¼š`http://localhost:3000/`
- twscrape è¨­å®šé é¢ï¼š`http://localhost:3000/settings.html`

## å°ˆæ¡ˆçµæ§‹

```
project/
â”œâ”€â”€ server.js              # Express å¾Œç«¯ä¸»ç¨‹å¼
â”œâ”€â”€ records.json           # è³‡æ–™å„²å­˜ï¼ˆå•Ÿå‹•æ™‚è‡ªå‹•å»ºç«‹ï¼‰
â”œâ”€â”€ package.json           # å°ˆæ¡ˆä¾è³´èˆ‡è…³æœ¬
â”œâ”€â”€ public/                # éœæ…‹æª”æ¡ˆç›®éŒ„
â”‚   â”œâ”€â”€ index.html         # ä¸»é é¢ï¼ˆæ–°å¢ç´€éŒ„ + æ‰€æœ‰ç´€éŒ„ï¼‰
â”‚   â”œâ”€â”€ settings.html      # twscrape è¨­å®šé é¢
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ main.js        # ä¸»é é¢é‚è¼¯
â”‚   â”‚   â””â”€â”€ settings.js    # è¨­å®šé é¢é‚è¼¯
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ tailwind.css   # TailwindCSSï¼ˆå»ºç½®å¾Œç”¢ç”Ÿï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ input.css          # Tailwind CSS è¼¸å…¥æª”æ¡ˆ
â”‚   â”œâ”€â”€ recordStore.js     # JSON æª”æ¡ˆè®€å¯«æ¨¡çµ„
â”‚   â”œâ”€â”€ validators.js      # URL é©—è­‰å·¥å…·
â”‚   â””â”€â”€ twscrapeHelper.js  # twscrape è¼”åŠ©æ¨¡çµ„
â”œâ”€â”€ tailwind.config.js     # Tailwind CSS é…ç½®æª”æ¡ˆ
â”œâ”€â”€ README.md              # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â””â”€â”€ TWSCRAPE_SETUP.md      # twscrape è¨­å®šæŒ‡å—
```

## API æ–‡ä»¶

### POST /api/records

æ–°å¢ä¸€ç­†ç´€éŒ„ï¼ˆæœƒè‡ªå‹•å¾ X oEmbed API ç²å–è²¼æ–‡æ¨™é¡Œï¼‰

**è«‹æ±‚é«”ï¼š**
```json
{
  "url": "https://x.com/username/status/1234567890",
  "tags": "vtuber, music",
  "note": "é€™æ®µè¡¨æ¼”å¾ˆå¼·"
}
```

**å›æ‡‰ï¼š**
```json
{
  "success": true,
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "url": "https://x.com/username/status/1234567890",
    "title": "è²¼æ–‡æ¨™é¡Œï¼ˆè‡ªå‹•ç²å–ï¼‰",
    "tags": ["vtuber", "music"],
    "note": "é€™æ®µè¡¨æ¼”å¾ˆå¼·",
    "createdAt": "2025-02-14T02:30:00.000Z"
  }
}
```

### GET /api/records

å–å¾—æ‰€æœ‰ç´€éŒ„

**æŸ¥è©¢åƒæ•¸ï¼š**
- `tag` (é¸å¡«)ï¼šä¾æ¨™ç±¤ç¯©é¸ï¼Œä¾‹å¦‚ `?tag=vtuber`
- `search` (é¸å¡«)ï¼šæœå°‹æ¨™é¡Œæˆ–æ¨™ç±¤ï¼Œä¾‹å¦‚ `?search=music`

**å›æ‡‰ï¼š**
```json
{
  "success": true,
  "data": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "url": "https://x.com/username/status/1234567890",
      "title": "è²¼æ–‡æ¨™é¡Œ",
      "tags": ["vtuber", "music"],
      "note": "é€™æ®µè¡¨æ¼”å¾ˆå¼·",
      "createdAt": "2025-02-14T02:30:00.000Z"
    }
  ]
}
```

### PUT /api/records/:id

ä¿®æ”¹ç´€éŒ„ï¼ˆæ¨™é¡Œã€æ¨™ç±¤èˆ‡å‚™è¨»ï¼‰

**è«‹æ±‚é«”ï¼š**
```json
{
  "title": "æ›´æ–°å¾Œçš„æ¨™é¡Œ",
  "tags": "vtuber, music, performance",
  "note": "æ›´æ–°å¾Œçš„å‚™è¨»"
}
```

**å›æ‡‰ï¼š**
```json
{
  "success": true,
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "url": "https://x.com/username/status/1234567890",
    "title": "æ›´æ–°å¾Œçš„æ¨™é¡Œ",
    "tags": ["vtuber", "music", "performance"],
    "note": "æ›´æ–°å¾Œçš„å‚™è¨»",
    "createdAt": "2025-02-14T02:30:00.000Z"
  }
}
```

### DELETE /api/records/:id

åˆªé™¤ç´€éŒ„

**å›æ‡‰ï¼š**
```json
{
  "success": true,
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000"
  }
}
```

### POST /api/twscrape/tweet

ä½¿ç”¨ twscrape ç²å–è²¼æ–‡ï¼ˆå‚™ç”¨æ–¹æ¡ˆï¼‰

**è«‹æ±‚é«”ï¼š**
```json
{
  "url": "https://x.com/username/status/1234567890"
}
```

**å›æ‡‰ï¼š**
```json
{
  "success": true,
  "data": {
    "id": "1234567890",
    "user": {
      "name": "ä½¿ç”¨è€…åç¨±",
      "username": "username",
      "profile_image_url": "..."
    },
    "rawContent": "è²¼æ–‡å…§å®¹",
    "media": {
      "videos": [{"url": "å½±ç‰‡URL"}],
      "photos": [{"url": "åœ–ç‰‡URL"}]
    }
  }
}
```

### POST /api/twscrape/accounts

æ–°å¢ Twitter å¸³è™Ÿï¼ˆç”¨æ–¼ twscrapeï¼‰

**è«‹æ±‚é«”ï¼š**
```json
{
  "username": "test_account",
  "password": "password123",
  "email": "test@example.com",
  "emailPassword": "email_pass" 
}
```

### GET /api/twscrape/accounts

ç²å–å·²æ–°å¢çš„å¸³è™Ÿåˆ—è¡¨

**å›æ‡‰ï¼š**
```json
{
  "success": true,
  "installed": true,
  "data": [
    {
      "username": "test_account",
      "logged_in": true,
      "active": true,
      "last_used": "2025-02-14",
      "total_req": 10
    }
  ]
}
```

## è³‡æ–™æ ¼å¼

`records.json` æª”æ¡ˆæ ¼å¼ç‚ºé™£åˆ—ï¼š

```json
[
  {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "url": "https://x.com/username/status/1234567890",
    "title": "è²¼æ–‡æ¨™é¡Œï¼ˆè‡ªå‹•ç²å–ï¼‰",
    "tags": ["vtuber", "music"],
    "note": "é€™æ®µè¡¨æ¼”å¾ˆå¼·",
    "createdAt": "2025-02-14T02:30:00.000Z"
  }
]
```

## URL é©—è­‰èˆ‡æ¨™æº–åŒ–

æ”¯æ´ä»¥ä¸‹æ ¼å¼çš„ X (Twitter) è²¼æ–‡ç¶²å€ï¼š
- `https://x.com/username/status/1234567890`
- `https://twitter.com/username/status/1234567890`

å¾Œç«¯æœƒè‡ªå‹•å°‡ `x.com` URL æ¨™æº–åŒ–ç‚º `twitter.com` æ ¼å¼ï¼Œä»¥ç¢ºä¿èˆ‡ X oEmbed API çš„æœ€ä½³ç›¸å®¹æ€§ã€‚

## åŠŸèƒ½èªªæ˜

### æ–°å¢ç´€éŒ„
1. è¼¸å…¥ X è²¼æ–‡ç¶²å€ï¼ˆå¿…å¡«ï¼‰
2. è¼¸å…¥æ¨™ç±¤ï¼ˆå¯é¸ï¼Œé€—è™Ÿåˆ†éš”ï¼‰
3. è¼¸å…¥å‚™è¨»ï¼ˆå¯é¸ï¼‰
4. é»æ“Šã€Œæ–°å¢ç´€éŒ„ã€
5. ç³»çµ±æœƒè‡ªå‹•å¾ X oEmbed API ç²å–è²¼æ–‡æ¨™é¡Œ

### æœå°‹åŠŸèƒ½
- åœ¨æœå°‹æ¬„è¼¸å…¥é—œéµå­—
- ç³»çµ±æœƒæœå°‹æ¨™é¡Œå’Œæ¨™ç±¤ä¸­åŒ…å«è©²é—œéµå­—çš„ç´€éŒ„
- æ”¯æ´å³æ™‚æœå°‹

### ç·¨è¼¯èˆ‡åˆªé™¤
- æ¯ç­†ç´€éŒ„éƒ½æœ‰ã€Œç·¨è¼¯ã€å’Œã€Œåˆªé™¤ã€æŒ‰éˆ•
- ç·¨è¼¯æ™‚å¯ä¿®æ”¹æ¨™é¡Œã€æ¨™ç±¤å’Œå‚™è¨»
- åˆªé™¤å‰æœƒé¡¯ç¤ºç¢ºèªå°è©±æ¡†

## éƒ¨ç½²

### Zeabur

1. å°‡å°ˆæ¡ˆæ¨é€åˆ° Git å€‰åº«
2. åœ¨ Zeabur ä¸­å»ºç«‹æ–°å°ˆæ¡ˆ
3. é€£æ¥ Git å€‰åº«
4. è¨­å®šå•Ÿå‹•å‘½ä»¤ï¼š`npm start`
5. è¨­å®šç’°å¢ƒè®Šæ•¸ `PORT`ï¼ˆå¯é¸ï¼Œé è¨­ç‚º 3000ï¼‰

### Docker

å»ºç«‹ `Dockerfile`ï¼š

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build:css
EXPOSE 3000
CMD ["npm", "start"]
```

å»ºç«‹ä¸¦åŸ·è¡Œï¼š

```bash
docker build -t easy-x-viewer .
docker run -p 3000:3000 easy-x-viewer
```

### æœ¬åœ°éƒ¨ç½²

ç›´æ¥åŸ·è¡Œï¼š

```bash
npm install
npm start
```

## æ³¨æ„äº‹é …

- é¦–æ¬¡å•Ÿå‹•æ™‚æœƒè‡ªå‹•å»ºç«‹ `records.json` æª”æ¡ˆ
- æ‰€æœ‰è³‡æ–™å„²å­˜åœ¨æœ¬åœ° JSON æª”æ¡ˆä¸­ï¼Œè«‹å®šæœŸå‚™ä»½
- ä½¿ç”¨ X å®˜æ–¹ `twttr.widgets.createTweet()` API ä¾†åµŒå…¥è²¼æ–‡ï¼Œä¸æœƒä¸‹è¼‰æˆ–å„²å­˜å½±ç‰‡æª”æ¡ˆ
- æ¨™é¡Œæœƒè‡ªå‹•å¾ X oEmbed API ç²å–ï¼Œå¦‚æœç²å–å¤±æ•—æœƒä½¿ç”¨é è¨­æ¨™é¡Œ
- URL æœƒè‡ªå‹•æ¨™æº–åŒ–ç‚º `twitter.com` æ ¼å¼ä»¥ç¢ºä¿ oEmbed API ç›¸å®¹æ€§
- CORS å·²å•Ÿç”¨ï¼Œå…è¨±è·¨åŸŸè«‹æ±‚

### è²¼æ–‡ç„¡æ³•é¡¯ç¤ºçš„å¯èƒ½åŸå› 

ä»¥ä¸‹æƒ…æ³æ˜¯ X æœ¬èº«çš„é™åˆ¶ï¼Œä¸æ˜¯æ‡‰ç”¨ç¨‹å¼çš„å•é¡Œï¼š
- è²¼æ–‡å·²è¢«åˆªé™¤
- ç™¼æ–‡å¸³è™Ÿè¨­ç‚ºç§å¯†æˆ–å—é™åˆ¶
- å…§å®¹è¢«æ¨™è¨˜ç‚ºæ•æ„Ÿå…§å®¹
- è²¼æ–‡å—åœ°å€é™åˆ¶
- X API æš«æ™‚ç„¡æ³•ä½¿ç”¨

é‡åˆ°é€™äº›æƒ…æ³æ™‚ï¼Œæ‡‰ç”¨ç¨‹å¼æœƒé¡¯ç¤ºå‹å¥½çš„éŒ¯èª¤è¨Šæ¯å’Œé€£çµï¼Œè®“æ‚¨å¯ä»¥åœ¨ X ä¸Šç›´æ¥æŸ¥çœ‹ã€‚

## å‚™ç”¨è¼‰å…¥åŠŸèƒ½ (twscrape)

ç•¶å®˜æ–¹ embed ç„¡æ³•é¡¯ç¤ºè²¼æ–‡æ™‚ï¼ˆä¾‹å¦‚å¹´é½¡é™åˆ¶å…§å®¹ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ twscrape ä½œç‚ºå‚™ç”¨æ–¹æ¡ˆã€‚

### âš ï¸ é‡è¦å®‰å…¨è­¦å‘Š

**å¼·çƒˆå»ºè­°ä½¿ç”¨å…æ´—å¸³è™Ÿï¼Œåˆ‡å‹¿ä½¿ç”¨å€‹äººä¸»è¦å¸³è™Ÿï¼**

- æ­¤åŠŸèƒ½ä½¿ç”¨ç¬¬ä¸‰æ–¹ API æŠ“å– X è²¼æ–‡ï¼Œå¯èƒ½é•å X æœå‹™æ¢æ¬¾
- ä½¿ç”¨çš„å¸³è™Ÿå¯èƒ½æœƒè¢«é™åˆ¶ã€æš«åœæˆ–æ°¸ä¹…å°ç¦
- å»ºè­°ä½¿ç”¨å°ˆé–€å»ºç«‹çš„æ¸¬è©¦å¸³è™Ÿæˆ–è‡¨æ™‚å¸³è™Ÿ
- ä¸è¦ä½¿ç”¨èˆ‡å€‹äººèº«ä»½ç›¸é—œçš„å¸³è™Ÿ
- æ­¤åŠŸèƒ½åƒ…ä¾›å¹´é½¡é™åˆ¶æˆ–ç„¡æ³•æ­£å¸¸é¡¯ç¤ºçš„è²¼æ–‡ä½¿ç”¨

### å®‰è£ twscrape

1. ç¢ºä¿å·²å®‰è£ Python 3.8 æˆ–æ›´æ–°ç‰ˆæœ¬

2. å®‰è£ twscrapeï¼š

```bash
pip install twscrape
```

### è¨­å®šå¸³è™Ÿ

1. è¨ªå•è¨­å®šé é¢ï¼š`http://localhost:3000/settings.html`
2. æ–°å¢ Twitter å¸³è™Ÿï¼ˆå»ºè­°ä½¿ç”¨å…æ´—å¸³è™Ÿï¼‰
3. åŸ·è¡Œç™»å…¥æ“ä½œ
4. å®Œæˆå¾Œå³å¯ä½¿ç”¨å‚™ç”¨è¼‰å…¥åŠŸèƒ½

### ä½¿ç”¨æ–¹å¼

ç•¶è²¼æ–‡ç„¡æ³•é¡¯ç¤ºæ™‚ï¼Œæœƒå‡ºç¾ã€Œå˜—è©¦å‚™ç”¨è¼‰å…¥ã€æŒ‰éˆ•ã€‚é»æ“Šå¾Œå°‡ä½¿ç”¨ twscrape æŠ“å–ä¸¦é¡¯ç¤ºè²¼æ–‡å…§å®¹ï¼ŒåŒ…æ‹¬ï¼š
- è²¼æ–‡æ–‡å­—
- åœ–ç‰‡
- å½±ç‰‡ï¼ˆå¯ç›´æ¥æ’­æ”¾ï¼‰

## æˆæ¬Š

MIT License
